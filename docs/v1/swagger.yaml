openapi: 3.1.0
x-stoplight:
  id: qwywpxxlzuzxl
info:
  title: Onelyk Swagger UI
  version: "1.0"
  summary: Onelyk Api
  description: Onelyk Api
servers:
  - url: "http://localhost:4000"
    description: MY DEV
  - url: "http://localhost:3000"
    description: Local
  - url: "https://mvx7d4vf-3000.inc1.devtunnels.ms"
    description: Devtunnel
  - url: "https://testhotelapi.onelyk.com"
    description: Testing (PROD)
paths:
  /user/register:
    post:
      summary: User Registration
      operationId: regiester-user
      responses:
        "200":
          $ref: "#/components/responses/Register"
        "400":
          $ref: "#/components/responses/Error"
        "500":
          $ref: "#/components/responses/Error"
      requestBody:
        $ref: "#/components/requestBodies/Register"
      description: Register new user
      x-stoplight:
        id: 7xhk6wcrsm2m3
      parameters: []
      x-internal: false
      tags:
        - User
    parameters: []
  /user/login:
    post:
      summary: User Login
      tags:
        - User
      responses:
        "200":
          $ref: "#/components/responses/Login"
        "500":
          $ref: "#/components/responses/Error"
      operationId: login-user
      x-stoplight:
        id: 8m90dlv0xc09x
      requestBody:
        $ref: "#/components/requestBodies/Login"
  /auth/accessToken:
    get:
      summary: Request AccessToken
      responses: {}
      operationId: get-auth-accesstoken
      x-stoplight:
        id: 91ttdhzlaulzl
      parameters:
        - schema:
            type: string
          in: query
          name: email
          description: User's email
        - schema:
            type: string
          in: cookie
          name: refreshToken
          description: Valid Refresh token
      tags:
        - Auth
      description: ""
    parameters: []
  /auth/verifyOtp:
    post:
      summary: Verify OTP
      responses:
        "200":
          $ref: "#/components/responses/Login"
        "500":
          $ref: "#/components/responses/Error"
      operationId: post-auth-verifyOtp
      x-stoplight:
        id: 2mys6pc0tw9tn
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - otp
              properties:
                email:
                  type: string
                  x-stoplight:
                    id: inlz8rtznw2gd
                otp:
                  type: string
                  x-stoplight:
                    id: r2d7ubmexnlzc
      tags:
        - Auth
  /user/logout:
    post:
      summary: User Logout
      tags:
        - User
      responses:
        "200":
          description: OK
          content: {}
      operationId: post-user-logout
      x-stoplight:
        id: rl0dfsy0rxz57
      security:
        - Bearer: []
  /user:
    get:
      summary: Get User
      tags:
        - User
      responses: {}
      operationId: get-user
      x-stoplight:
        id: ztlhlwiajutbr
      security:
        - Bearer: []
  "/user/{propertyId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
    post:
      summary: Create User
      responses:
        "200":
          $ref: "#/components/responses/User"
      operationId: post-user-propertyId
      x-stoplight:
        id: jrjx090obmx3q
      requestBody:
        $ref: "#/components/requestBodies/User"
      security:
        - Bearer: []
      tags:
        - User
  /property:
    post:
      summary: Create property (Property Onboarding)
      tags:
        - Property
      responses:
        "200":
          $ref: "#/components/responses/PropertyResponse"
        4XX:
          $ref: "#/components/responses/Error"
        5XX:
          $ref: "#/components/responses/Error"
      operationId: Create-Property
      x-stoplight:
        id: ryjalcd5tmwuq
      security:
        - Bearer: []
      requestBody:
        $ref: "#/components/requestBodies/CreateProperty"
    get:
      summary: Get all properties associated with user
      tags:
        - Property
      responses: {}
      operationId: get-all-property-of-user
      x-stoplight:
        id: u96bywly9mqg4
      security:
        - Bearer: []
  /twilio/phoneNumbers:
    get:
      summary: Get Available Phone Numbers list
      responses: {}
      operationId: get-twilio-phoneNumbers
      x-stoplight:
        id: kbqsty6fg7exx
      security:
        - Bearer: []
      parameters:
        - schema:
            type: string
          in: query
          name: country
      tags:
        - Twilio
  "/twilio/{propertyId}/buyPhoneNumber":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
    post:
      summary: Buy Phonenumber for Property
      tags:
        - Twilio
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - result
                properties:
                  result:
                    type: object
                    x-stoplight:
                      id: oubvrjm75peom
                    required:
                      - message
                    properties:
                      message:
                        type: string
                        x-stoplight:
                          id: m328ktmkl6mxn
      operationId: post-twilio-propertyId-buyPhoneNumber
      x-stoplight:
        id: r0xyiornttr0a
      description: ""
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - phoneNumber
              properties:
                phoneNumber:
                  type: string
                  x-stoplight:
                    id: c4sii266sgyvi
      security:
        - Bearer: []
  "/twilio/{propertyId}/createSubaccount":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
    post:
      summary: Create Subaccount for the property
      tags:
        - Twilio
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - result
                properties:
                  result:
                    type: object
                    x-stoplight:
                      id: zepgbb5r0mq6q
                    required:
                      - message
                    properties:
                      message:
                        type: string
                        x-stoplight:
                          id: 3sm8azvocsfrg
      operationId: post-twilio-propertyId-createSubaccount
      x-stoplight:
        id: 49qo0ggfuutup
      security:
        - Bearer: []
  /auth/resendOtp:
    post:
      summary: Resend Otp
      tags:
        - Auth
      responses:
        "200":
          description: Email Sent
          headers: {}
          content:
            application/json:
              schema:
                type: object
                required:
                  - message
                properties:
                  message:
                    type: string
                    x-stoplight:
                      id: bufkcslp1clep
      operationId: post-auth-resendOtp
      x-stoplight:
        id: vnabujuuggkfj
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  x-stoplight:
                    id: b35muo8oajf1m
  "/property/{propertyId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
    get:
      summary: Get Property by PropertyId
      tags:
        - Property
      responses:
        "200":
          $ref: "#/components/responses/PropertyResponse"
      operationId: get-property-propertyId
      x-stoplight:
        id: jqjeu1hs5q8ry
      security:
        - Bearer: []
  /country:
    get:
      summary: Get all countries
      tags:
        - Country
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    type: object
                    properties:
                      countries:
                        type: array
                        items:
                          type: object
                          properties:
                            name:
                              type: string
                            iso2:
                              type: string
      operationId: get-country
      x-stoplight:
        id: eahvalgj8q15t
  "/country/{country}/states":
    parameters:
      - schema:
          type: string
        name: country
        in: path
        required: true
        description: ISO2 code
    get:
      summary: Get all states of the country
      tags:
        - Country
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    type: object
                    properties:
                      states:
                        type: array
                        items:
                          type: object
                          properties:
                            name:
                              type: string
                            state_code:
                              type: string
      operationId: get-country-countryId-states
      x-stoplight:
        id: yewamkjrance5
  "/country/{country}/timezones":
    parameters:
      - schema:
          type: string
        name: country
        in: path
        required: true
        description: ISO2 code
    get:
      summary: Get all timezones of a country
      tags:
        - Country
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    type: object
                    properties:
                      timezones:
                        type: array
                        items:
                          type: object
                          properties:
                            zoneName:
                              type: string
                            gmtOffset:
                              type: integer
                            gmtOffsetName:
                              type: string
                            abbreviation:
                              type: string
                            tzName:
                              type: string
      operationId: get-country-countryId-timezone
      x-stoplight:
        id: cr2z17dg4genl
  "/country/{country}/{zipcode}":
    parameters:
      - schema:
          type: string
        name: zipcode
        in: path
        required: true
        description: zip/postal code
      - schema:
          type: string
        name: country
        in: path
        required: true
        description: ISO2 code
    get:
      summary: Get location based on zipcode
      tags:
        - Country
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    type: object
                    properties:
                      zipcodes:
                        type: object
                        properties:
                          country_code:
                            type: string
                          zipcode:
                            type: string
                          place:
                            type: string
                          state:
                            type: string
                          state_code:
                            type: string
                          province:
                            type: string
                          province_code:
                            type: string
                          community:
                            type: string
                          community_code:
                            type: string
                          latitude:
                            type: string
                          longitude:
                            type: string
                x-examples:
                  Example 1:
                    result:
                      zipcodes:
                        country_code: US
                        zipcode: "84765"
                        place: Santa Clara
                        state: Utah
                        state_code: UT
                        province: Washington
                        province_code: "053"
                        community: ""
                        community_code: ""
                        latitude: "37.1282"
                        longitude: "-113.676"
      operationId: get-country-countrycode-zipcode
      x-stoplight:
        id: rt0gmfe39ejzk
  "/country/{country}/{state}/cities":
    parameters:
      - schema:
          type: string
        name: country
        in: path
        required: true
        description: ISO2 code
      - schema:
          type: string
        name: state
        in: path
        required: true
        description: State code
    get:
      summary: Get cities based on state and country
      tags:
        - Country
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    type: object
                    properties:
                      cities:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                            name:
                              type: string
                            latitude:
                              type: string
                            longitude:
                              type: string
              examples: {}
      operationId: get-country-country-state-cities
      x-stoplight:
        id: z3giqx0o6pq65
  "/twilio/{propertyId}/tollFreeVerificationStatus":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
    get:
      summary: Get toll free verification status
      tags:
        - Twilio
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    type: object
                    x-stoplight:
                      id: 3iuhwnftn55dz
                    properties:
                      status:
                        type: string
                        x-stoplight:
                          id: 4aqy1y8chykq8
      operationId: get-twilio-propertyId-tollfreeVerificationStatus
      x-stoplight:
        id: es0glpjzixbxx
      security:
        - Bearer: []
  "/guest/{propertyId}":
    post:
      summary: Create guest with Status
      tags:
        - Guest
      responses:
        "200":
          $ref: "#/components/responses/CreateGuest"
      operationId: post-guest-propertyId
      x-stoplight:
        id: vyo5rxdr47cse
      security:
        - Bearer: []
      requestBody:
        $ref: "#/components/requestBodies/CreateGuest"
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
    get:
      summary: Get all guests with status
      tags:
        - Guest
      responses: {}
      operationId: get-guest-propertyId
      x-stoplight:
        id: scgy2wj2rtgn9
      parameters:
        - schema:
            type: string
            format: date
          in: query
          name: checkIn
          description: checkIn date
        - schema:
            type: string
            format: date
          in: query
          name: checkOut
          description: checkOut date
        - schema:
            type: string
            enum:
              - In House
              - Checked Out
              - Reservation
          in: query
          name: currentStatus
          description: current status
        - schema:
            type: string
          in: query
          name: search
          description: Search by any value
          allowEmptyValue: true
      security:
        - Bearer: []
  "/guest/{propertyId}/{guestId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
      - schema:
          type: string
        name: guestId
        in: path
        required: true
    put:
      summary: Update guest with status
      tags:
        - Guest
      responses:
        "200":
          $ref: "#/components/responses/CreateGuest"
      operationId: put-guest-propertyId-guestId
      x-stoplight:
        id: 8qsp31nk6963h
      requestBody:
        $ref: "#/components/requestBodies/CreateGuest"
      security:
        - Bearer: []
    get:
      summary: Get Guest by Id with status
      tags:
        - Guest
      responses:
        "200":
          $ref: "#/components/responses/CreateGuest"
      operationId: get-guest-propertyId-guestId
      x-stoplight:
        id: wnosjabi6hyhh
      security:
        - Bearer: []
  "/messageTemplate/{propertyId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
    get:
      summary: Get all message templates
      responses: {}
      operationId: get-messageTemplate-propertyId
      x-stoplight:
        id: e0b6uci3sccc4
      security:
        - Bearer: []
      tags:
        - Message Template
    post:
      summary: Create message template
      responses:
        "200":
          $ref: "#/components/responses/CreateMessageTemplate"
      operationId: post-messageTemplate-propertyId
      x-stoplight:
        id: g3ds5i6zexgku
      security:
        - Bearer: []
      requestBody:
        $ref: "#/components/requestBodies/CreateMessageTemplate"
      tags:
        - Message Template
    put:
      summary: Update All Templates
      responses: {}
      operationId: put-messageTemplate-propertyId
      x-stoplight:
        id: tqxogfouffgio
      security:
        - Bearer: []
      requestBody:
        content:
          application/json:
            schema:
              type: array
              x-examples:
                Example 1:
                  - _id: 66b4a001ebd75d6d388ab50d
                    propertyId: 66a2125d50a317d5ffa691ad
                    type: Default
                    name: Checked In
                    message: You are checked in
                    active: true
                    createdAt: "2024-08-08T10:37:53.351Z"
                    updatedAt: "2024-08-08T10:37:53.351Z"
                    __v: 0
                  - _id: 66b4a001ebd75d6d388ab50f
                    propertyId: 66a2125d50a317d5ffa691ad
                    type: Default
                    name: Checked Out
                    message: You are checked out
                    active: true
                    createdAt: "2024-08-08T10:37:53.379Z"
                    updatedAt: "2024-08-08T10:37:53.379Z"
                    __v: 0
                  - _id: 66b4a001ebd75d6d388ab505
                    propertyId: 66a2125d50a317d5ffa691ad
                    type: Default
                    name: Early Check In Accepted
                    message: Your early check in request is accepted
                    active: true
                    createdAt: "2024-08-08T10:37:53.241Z"
                    updatedAt: "2024-08-08T10:37:53.241Z"
                    __v: 0
                  - _id: 66b4a001ebd75d6d388ab511
                    propertyId: 66a2125d50a317d5ffa691ad
                    type: Default
                    name: Early Check In Accepted and Late Check Out Accepted
                    message: Your early check in and late check out request is accepted
                    active: true
                    createdAt: "2024-08-08T10:37:53.406Z"
                    updatedAt: "2024-08-08T10:37:53.406Z"
                    __v: 0
                  - _id: 66b4a001ebd75d6d388ab503
                    propertyId: 66a2125d50a317d5ffa691ad
                    type: Default
                    name: Early Check In Declined
                    message: Your early check in request is declined
                    active: true
                    createdAt: "2024-08-08T10:37:53.213Z"
                    updatedAt: "2024-08-08T10:37:53.213Z"
                    __v: 0
                  - _id: 66b4a001ebd75d6d388ab509
                    propertyId: 66a2125d50a317d5ffa691ad
                    type: Default
                    name: Late Check Out Accepted
                    message: Your late check out request is accepted
                    active: true
                    createdAt: "2024-08-08T10:37:53.295Z"
                    updatedAt: "2024-08-08T10:37:53.295Z"
                    __v: 0
                  - _id: 66b4a001ebd75d6d388ab507
                    propertyId: 66a2125d50a317d5ffa691ad
                    type: Default
                    name: Late Check Out Declined
                    message: Your late check out request is declined
                    active: true
                    createdAt: "2024-08-08T10:37:53.268Z"
                    updatedAt: "2024-08-08T10:37:53.268Z"
                    __v: 0
                  - _id: 66b4a001ebd75d6d388ab501
                    propertyId: 66a2125d50a317d5ffa691ad
                    type: Default
                    name: Reservation Cancelled
                    message: Your reservation is cancelled
                    active: true
                    createdAt: "2024-08-08T10:37:53.172Z"
                    updatedAt: "2024-08-08T10:37:53.172Z"
                    __v: 0
                  - _id: 66b4a001ebd75d6d388ab50b
                    propertyId: 66a2125d50a317d5ffa691ad
                    type: Default
                    name: Reservation Confirmed
                    message: Your reservation is confirmed
                    active: true
                    createdAt: "2024-08-08T10:37:53.323Z"
                    updatedAt: "2024-08-08T10:37:53.323Z"
                    __v: 0
              items:
                type: object
                required:
                  - name
                  - message
                properties:
                  _id:
                    type: string
                  propertyId:
                    type: string
                  type:
                    type: string
                  name:
                    type: string
                  message:
                    type: string
                  active:
                    type: boolean
                  createdAt:
                    type: string
                  updatedAt:
                    type: string
                  __v:
                    type: integer
      tags:
        - Message Template
  "/messageTemplate/{propertyId}/{messageTemplateId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
      - schema:
          type: string
        name: messageTemplateId
        in: path
        required: true
    get:
      summary: Get message template
      responses: {}
      operationId: get-messageTemplate-propertyId-messageTemplateId
      x-stoplight:
        id: oeymus6t9tc1d
      security:
        - Bearer: []
      tags:
        - Message Template
    put:
      summary: Update message template
      responses:
        "200":
          $ref: "#/components/responses/CreateMessageTemplate"
      operationId: put-messageTemplate-propertyId-messageTemplateId
      x-stoplight:
        id: fg4p64kkk534l
      security:
        - Bearer: []
      requestBody:
        $ref: "#/components/requestBodies/CreateMessageTemplate"
      tags:
        - Message Template
    delete:
      summary: Delete message template
      responses:
        "200":
          description: OK
      operationId: delete-messageTemplate-propertyId-messageTemplateId
      x-stoplight:
        id: uqjzynq8v29vm
      security:
        - Bearer: []
      tags:
        - Message Template
  "/guestStatus/{propertyId}/{guestId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
      - schema:
          type: string
        name: guestId
        in: path
        required: true
    get:
      summary: Get guest status
      tags:
        - Guest Status
      responses:
        "200":
          $ref: "#/components/responses/GuestStatus"
      operationId: get-guestStatus-propertyId-guestId
      x-stoplight:
        id: 01sisp96036vu
      security:
        - Bearer: []
    put:
      summary: Update guest status
      tags:
        - Guest Status
      responses:
        "200":
          $ref: "#/components/responses/GuestStatus"
      operationId: put-guestStatus-propertyId-guestId
      x-stoplight:
        id: wdogp9jz9ub4g
      requestBody:
        $ref: "#/components/requestBodies/UpdateGuestStatus"
      security:
        - Bearer: []
  "/auth/guestAccessToken/{guestId}":
    parameters:
      - schema:
          type: string
        name: guestId
        in: path
        required: true
    get:
      summary: Get access token for Guest
      tags:
        - Auth
      responses:
        2XX:
          description: Success
      operationId: get-auth-guestAccessToken-guestId
      x-stoplight:
        id: ikrvbejxoka8j
  "/auth/guestLogin/{token}":
    parameters:
      - schema:
          type: string
        name: token
        in: path
        required: true
    post:
      summary: Guest Login using  guest token
      tags:
        - Auth
      responses: {}
      operationId: post-auth-guestLogin-token
      x-stoplight:
        id: rotvyvzh8vujs
  "/chatList/{propertyId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
    get:
      summary: Get chat list by propertyId
      tags:
        - Chat List
      responses:
        "200":
          $ref: "#/components/responses/ChatLists"
      operationId: get-chatList-propertyId
      x-stoplight:
        id: c1jevyn62i63u
      security:
        - Bearer: []
      x-request-id: null
      requestBody:
        content: {}
  "/chatList/{propertyId}/{guestId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
      - schema:
          type: string
        name: guestId
        in: path
        required: true
    post:
      summary: Temp create chat List endpoint
      tags:
        - Chat List
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties: {}
      operationId: post-chatList-propertyId-guestId
      x-stoplight:
        id: uu85k2cggf65h
      security:
        - Bearer: []
    put:
      summary: Update chat list
      tags:
        - Chat List
      responses: {}
      operationId: put-chatList-propertyId-guestId
      x-stoplight:
        id: gbye5fx087kcv
      security:
        - Bearer: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                latetstMessage:
                  type: string
                  x-stoplight:
                    id: u3e8cf1kbhgm7
                unreadMessages:
                  type: integer
                  x-stoplight:
                    id: sjpahigb48w55
                  minimum: 0
    delete:
      summary: Remove chat list
      tags:
        - Chat List
      responses:
        "200":
          description: OK
      operationId: delete-chatList-propertyId-guestId
      x-stoplight:
        id: pkregn22omv90
      security:
        - Bearer: []
  "/sms/send/{propertyId}/{guestId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
      - schema:
          type: string
        name: guestId
        in: path
        required: true
    post:
      summary: Send sms to guest
      tags:
        - Message
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties: {}
      operationId: post-sms-send-propertyId-guestId
      x-stoplight:
        id: 3dvs5ezcalz4w
      description: "This endpoint will send sms to the guest and store the message in db and will emit socket event message:newMessage"
      security:
        - Bearer: []
      requestBody:
        $ref: "#/components/requestBodies/SendSMS"
  "/message/{propertyId}/{guestId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
      - schema:
          type: string
        name: guestId
        in: path
        required: true
    get:
      summary: Get all messages
      tags:
        - Message
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  result:
                    type: object
                    properties:
                      messages:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                            guestId:
                              type: string
                            propertyId:
                              type: string
                            senderId:
                              type: string
                            receiverId:
                              type: string
                            content:
                              type: string
                            messageType:
                              type: string
                            messageTriggerType:
                              type: string
                            status:
                              type: string
                            createdAt:
                              type: string
                            updatedAt:
                              type: string
                            __v:
                              type: integer
                            request:
                              type: object
                              properties:
                                _id:
                                  type: string
                                propertyId:
                                  type: string
                                guestId:
                                  type: string
                                requestType:
                                  type: string
                                lateCheckOutDateTime:
                                  type: string
                                createdAt:
                                  type: string
                                updatedAt:
                                  type: string
                                __v:
                                  type: integer
                  status:
                    type: string
                  type:
                    type: string
                  message:
                    type: string
                x-examples:
                  Example 1:
                    statusCode: 200
                    result:
                      messages:
                        - _id: 66b5245bdaf1ced95550913b
                          guestId: 66a3a20a9f0302c6f2612861
                          propertyId: 66a2174cf74f8664b0bb207d
                          senderId: 66a3a20a9f0302c6f2612861
                          receiverId: 66a2174cf74f8664b0bb207d
                          content: Late Check Out Request
                          messageType: Request
                          messageTriggerType: Automatic
                          status: sent
                          createdAt: "2024-08-08T20:02:35.635Z"
                          updatedAt: "2024-08-08T20:02:35.635Z"
                          __v: 0
                          request:
                            _id: 66b5245bdaf1ced955509139
                            propertyId: 66a2174cf74f8664b0bb207d
                            guestId: 66a3a20a9f0302c6f2612861
                            requestType: lateCheckOut
                            lateCheckOutDateTime: "2028-10-02T14:30:00.000Z"
                            createdAt: "2024-08-08T20:02:35.623Z"
                            updatedAt: "2024-08-08T20:02:35.623Z"
                            __v: 0
                    status: success
                    type: SUCCESS
                    message: Success
      operationId: get-message-propertyId
      x-stoplight:
        id: 1zr2m3hgcvsss
      security:
        - Bearer: []
  /sms/receive:
    post:
      summary: Mock Twilio receive endpoint request
      tags:
        - Message
      responses: {}
      operationId: post-sms-receive
      x-stoplight:
        id: jwesxn6m492m6
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                ApiVersion:
                  type: string
                SmsSid:
                  type: string
                SmsStatus:
                  type: string
                SmsMessageSid:
                  type: string
                NumSegments:
                  type: string
                ToState:
                  type: string
                From:
                  type: string
                MessageSid:
                  type: string
                AccountSid:
                  type: string
                ToCity:
                  type: string
                FromCountry:
                  type: string
                ToZip:
                  type: string
                FromCity:
                  type: string
                To:
                  type: string
                FromZip:
                  type: string
                ToCountry:
                  type: string
                Body:
                  type: string
                NumMedia:
                  type: string
                FromState:
                  type: string
              x-examples:
                Example 1:
                  ApiVersion: "2010-04-01"
                  SmsSid: SM16739f1418878a986c4c0e10d6706226
                  SmsStatus: received
                  SmsMessageSid: SM16739f1418878a986c4c0e10d6706226
                  NumSegments: "1"
                  ToState: ""
                  From: "+13177242610"
                  MessageSid: SM16739f1418878a986c4c0e10d6706226
                  AccountSid: AC62314fff86d31005acaa2f2d33040f3b
                  ToCity: ""
                  FromCountry: US
                  ToZip: ""
                  FromCity: INDIANAPOLIS
                  To: "+18447958020"
                  FromZip: "46204"
                  ToCountry: US
                  Body: Hi
                  NumMedia: "0"
                  FromState: IN
            examples:
              Example 1:
                value:
                  ApiVersion: "2010-04-01"
                  SmsSid: SM16739f1418878a986c4c0e10d6706226
                  SmsStatus: received
                  SmsMessageSid: SM16739f1418878a986c4c0e10d6706226
                  NumSegments: "1"
                  ToState: ""
                  From: "+13177242610"
                  MessageSid: SM16739f1418878a986c4c0e10d6706226
                  AccountSid: AC62314fff86d31005acaa2f2d33040f3b
                  ToCity: ""
                  FromCountry: US
                  ToZip: ""
                  FromCity: INDIANAPOLIS
                  To: "+18447958020"
                  FromZip: "46204"
                  ToCountry: US
                  Body: Hi
                  NumMedia: "0"
                  FromState: IN
  "/messageTemplate/{propertyId}/createStatus":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
    post:
      summary: Get message template based on the status
      tags:
        - Message Template
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  result:
                    type: object
                    properties:
                      messageTemplate:
                        type: object
                        properties:
                          _id:
                            type: string
                          propertyId:
                            type: string
                          type:
                            type: string
                          name:
                            type: string
                          message:
                            type: string
                          active:
                            type: boolean
                          createdAt:
                            type: string
                          updatedAt:
                            type: string
                          __v:
                            type: integer
                  status:
                    type: string
                  type:
                    type: string
                  message:
                    type: string
                x-examples:
                  Example 1:
                    statusCode: 200
                    result:
                      messageTemplate:
                        _id: 66b4a001ebd75d6d388ab511
                        propertyId: 66a2125d50a317d5ffa691ad
                        type: Default
                        name: Early Check In Accepted and Late Check Out Accepted
                        message: Your early check in and late check out request is accepted
                        active: true
                        createdAt: "2024-08-08T10:37:53.406Z"
                        updatedAt: "2024-08-08T10:37:53.406Z"
                        __v: 0
                    status: success
                    type: SUCCESS
                    message: Success
      operationId: get-messageTemplate-propertyId-createStatus
      x-stoplight:
        id: ccsnv1xosmm80
      requestBody:
        $ref: "#/components/requestBodies/UpdateGuestStatus"
      security:
        - Bearer: []
  "/messageTemplate/{propertyId}/{guestId}/updateStatus":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
      - schema:
          type: string
        name: guestId
        in: path
        required: true
    post:
      summary: Get message template for updating guest status
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  result:
                    type: object
                    properties:
                      messageTemplate:
                        type: object
                        properties:
                          _id:
                            type: string
                          propertyId:
                            type: string
                          type:
                            type: string
                          name:
                            type: string
                          message:
                            type: string
                          active:
                            type: boolean
                          createdAt:
                            type: string
                          updatedAt:
                            type: string
                          __v:
                            type: integer
                  status:
                    type: string
                  type:
                    type: string
                  message:
                    type: string
                x-examples:
                  Example 1:
                    statusCode: 200
                    result:
                      messageTemplate:
                        _id: 66b4a001ebd75d6d388ab511
                        propertyId: 66a2125d50a317d5ffa691ad
                        type: Default
                        name: Early Check In Accepted and Late Check Out Accepted
                        message: Your early check in and late check out request is accepted
                        active: true
                        createdAt: "2024-08-08T10:37:53.406Z"
                        updatedAt: "2024-08-08T10:37:53.406Z"
                        __v: 0
                    status: success
                    type: SUCCESS
                    message: Success
      operationId: get-messageTemplate-propertyId-updateStatus
      x-stoplight:
        id: fvyjhh9dflh0r
      security:
        - Bearer: []
      requestBody:
        $ref: "#/components/requestBodies/UpdateGuestStatus"
      tags:
        - Message Template
  "/checkInOutRequest/{propertyId}/{guestId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
      - schema:
          type: string
        name: guestId
        in: path
        required: true
    post:
      summary: Early/Late Check In Out Request
      tags:
        - Check In Out Request
      responses:
        "200":
          description: OK
      operationId: get-checkInOutRequest-propertyId-guestId
      x-stoplight:
        id: ilnlvsfismz5i
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                requestType:
                  x-stoplight:
                    id: oidoyb6icyhuo
                  enum:
                    - lateCheckOut
                    - earlyCheckIn
                lateCheckOutDateTime:
                  type: string
                  x-stoplight:
                    id: plb6udbozu6gv
                  format: date-time
                earlyCheckInDateTime:
                  type: string
                  x-stoplight:
                    id: 7o978whftsas3
                  format: date-time
      security:
        - Bearer: []
    get:
      summary: Get all check In Out request
      tags:
        - Check In Out Request
      responses: {}
      operationId: get-all-checkInOutRequest-propertyId-guestId
      x-stoplight:
        id: z7xnq43j0eq7y
      security:
        - Bearer: []
  "/broadcast/{propertyid}":
    parameters:
      - schema:
          type: string
        name: propertyid
        in: path
        required: true
    post:
      summary: Creating broadcast
      tags:
        - Broadcast
      responses:
        "200":
          description: OK
      operationId: get-broadcast-propertyid
      x-stoplight:
        id: c6lgighj3k0ty
      security:
        - Bearer: []
      requestBody:
        $ref: "#/components/requestBodies/CreateBroadcast"
    get:
      summary: Get all broadcasts for the property
      tags:
        - Broadcast
      responses: {}
      operationId: get-broadcastid-propertyid
      x-stoplight:
        id: km7267q0muup8
      security:
        - Bearer: []
  "/broadcast/{propertyId}/{broadcastId}/send":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
      - schema:
          type: string
        name: broadcastId
        in: path
        required: true
    put:
      summary: Send messages to broadast
      tags:
        - Broadcast
      responses:
        "200":
          description: OK
      operationId: get-broadcast-propertyId-broadcastId
      x-stoplight:
        id: mmhwelk4osmn9
      security:
        - Bearer: []
      requestBody:
        $ref: "#/components/requestBodies/SendMessageBroadcast"
  "/broadcast/{propertyId}/{broadcastId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
      - schema:
          type: string
        name: broadcastId
        in: path
        required: true
    get:
      summary: Get broadcast by Id
      responses:
        "200":
          description: OK
      operationId: get-broadcast-by-propertyId-broadcastId
      x-stoplight:
        id: dk7igvwzvombn
      tags:
        - Broadcast
      security:
        - Bearer: []
  "/checkInOutRequest/{propertyId}/{guestId}/{checkInOutRequestId}":
    patch:
      summary: Update request status
      tags:
        - Check In Out Request
      responses:
        "200":
          description: OK
      operationId: patch-checkInOutRequest-propertyId-guestId-checkInOutRequestId
      x-stoplight:
        id: q5j6a63z1nl9g
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                requestStatus:
                  x-stoplight:
                    id: alz7egf6ij8cr
                  enum:
                    - Requested
                    - Accepted
                    - Declined
      security:
        - Bearer: []
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
      - schema:
          type: string
        name: guestId
        in: path
        required: true
      - schema:
          type: string
        name: checkInOutRequestId
        in: path
        required: true
    get:
      summary: Get by check in out request id
      tags:
        - Check In Out Request
      responses: {}
      operationId: get-checkInOutRequest-propertyId-guestId-checkInOutRequestId
      x-stoplight:
        id: 6835ch78otf6v
      security:
        - Bearer: []
  "/checkInOutRequest/{propertyId}/{guestId}/requestType":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
      - schema:
          type: string
        name: guestId
        in: path
        required: true
    get:
      summary: Get check In Out Request by Request Type
      tags:
        - Check In Out Request
      responses: {}
      operationId: get-checkInOutRequest-propertyId-guestId-requestType
      x-stoplight:
        id: nj7f4n6nn7rbt
      security:
        - Bearer: []
      parameters:
        - schema:
            type: string
            enum:
              - lateCheckOut
              - earlyCheckIn
          in: query
          name: requestType
          description: Request Type
  "/broadcast/{propertyId}/createupdatesend":
    post:
      summary: Create Update Send Message ALL IN ONE!
      tags:
        - Broadcast
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  idk:
                    type: object
                    x-stoplight:
                      id: mhn7r3jo5al9l
                    additionalProperties: {}
      operationId: post-broadcast-propertyId-badapi
      x-stoplight:
        id: 6gubnnstr8r1j
      security:
        - Bearer: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                broadcastId:
                  type: string
                  x-stoplight:
                    id: dtf4ox00rhum2
                guestIds:
                  type: array
                  x-stoplight:
                    id: v56dmi82yfhjo
                  items: {}
                body:
                  type: string
                  x-stoplight:
                    id: c2mwnc43low8t
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
  "/setting/{propertyId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
    get:
      summary: Get property by Id
      tags:
        - Setting
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  result:
                    type: object
                    properties:
                      setting:
                        type: object
                        properties:
                          _id:
                            type: string
                          propertyId:
                            type: string
                          timezone:
                            type: string
                          standardCheckinTime:
                            type: string
                          standardCheckoutTime:
                            type: string
                          automaticNewDay:
                            type: boolean
                          defaultNewDayTime:
                            type: string
                          __v:
                            type: integer
                  status:
                    type: string
                  type:
                    type: string
                  message:
                    type: string
                x-examples:
                  Example 1:
                    statusCode: 200
                    result:
                      setting:
                        _id: 66a2125d50a317d5ffa691b2
                        propertyId: 66a2125d50a317d5ffa691ad
                        timezone: "UTC-08:00"
                        standardCheckinTime: "15:00"
                        standardCheckoutTime: "20:00"
                        automaticNewDay: true
                        defaultNewDayTime: "00:00"
                        __v: 0
                    status: success
                    type: SUCCESS
                    message: Success
      operationId: get-setting-propertyId
      x-stoplight:
        id: hxv8j5nnlnie0
      security:
        - Bearer: []
  "/preArrival/{propertyId}/{guestId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
      - schema:
          type: string
        name: guestId
        in: path
        required: true
    post:
      summary: Create prearrival
      tags:
        - Pre Arrival
      responses: {}
      operationId: post-preArrival-propertyId-guestId
      x-stoplight:
        id: g4tsqk9vtb6fu
      requestBody:
        $ref: "#/components/requestBodies/CreatePreArrival"
      security:
        - Bearer: []
  "/preArrivalFlow/{propertyId}":
    parameters:
      - schema:
          type: string
        name: propertyId
        in: path
        required: true
    get:
      summary: Get by property Id
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  result:
                    type: object
                    properties:
                      preArrivalFlow:
                        type: object
                        properties:
                          propertyId:
                            type: string
                          phoneNumber:
                            type: boolean
                          emailAddress:
                            type: boolean
                          arrivalTime:
                            type: boolean
                          vehicleMakeModelColor:
                            type: boolean
                          licensePlateNo:
                            type: boolean
                          specialRequests:
                            type: boolean
                          policies:
                            type: boolean
                          policyLink:
                            type: string
                          extraPolicies:
                            type: array
                            items:
                              type: object
                              properties: {}
                          _id:
                            type: string
                          __v:
                            type: integer
                  status:
                    type: string
                  type:
                    type: string
                  message:
                    type: string
                x-examples:
                  Example 1:
                    statusCode: 200
                    result:
                      preArrivalFlow:
                        propertyId: 66a2125d50a317d5ffa691ad
                        phoneNumber: true
                        emailAddress: true
                        arrivalTime: true
                        vehicleMakeModelColor: true
                        licensePlateNo: true
                        specialRequests: true
                        policies: true
                        policyLink: "https://www.onelyk.com/privacy"
                        extraPolicies: []
                        _id: 66bb30238bc82a454e80af1b
                        __v: 0
                    status: success
                    type: SUCCESS
                    message: Success
      operationId: get-preArrivalFlow-propertyId
      x-stoplight:
        id: 0br0cy02qmfkk
      tags:
        - Pre Arrival Flow
      security:
        - Bearer: []
    post:
      summary: Create Defaults
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  result:
                    type: object
                    properties:
                      preArrivalFlow:
                        type: object
                        properties:
                          propertyId:
                            type: string
                          phoneNumber:
                            type: boolean
                          emailAddress:
                            type: boolean
                          arrivalTime:
                            type: boolean
                          vehicleMakeModelColor:
                            type: boolean
                          licensePlateNo:
                            type: boolean
                          specialRequests:
                            type: boolean
                          policies:
                            type: boolean
                          policyLink:
                            type: string
                          extraPolicies:
                            type: array
                            items:
                              type: object
                              properties: {}
                          _id:
                            type: string
                          __v:
                            type: integer
                  status:
                    type: string
                  type:
                    type: string
                  message:
                    type: string
                x-examples:
                  Example 1:
                    statusCode: 200
                    result:
                      preArrivalFlow:
                        propertyId: 66a2125d50a317d5ffa691ad
                        phoneNumber: true
                        emailAddress: true
                        arrivalTime: true
                        vehicleMakeModelColor: true
                        licensePlateNo: true
                        specialRequests: true
                        policies: true
                        policyLink: "https://www.onelyk.com/privacy"
                        extraPolicies: []
                        _id: 66bb30238bc82a454e80af1b
                        __v: 0
                    status: success
                    type: SUCCESS
                    message: Success
      operationId: post-preArrivalFlow-propertyId
      x-stoplight:
        id: fkmih2fs9r8qx
      deprecated: true
      tags:
        - Pre Arrival Flow
      security:
        - Bearer: []
components:
  schemas:
    User:
      title: User
      type: object
      x-stoplight:
        id: 5dg2siga24c7w
      x-internal: false
      required:
        - id
        - firstName
        - lastName
        - email
        - password_hash
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          description: Unique identifier for the given user.
          x-stoplight:
            id: cs6bvaybzvuev
        firstName:
          type: string
          x-stoplight:
            id: p58mbyd0dw49x
        lastName:
          type: string
          x-stoplight:
            id: h05y8uq3y9r56
        email:
          type: string
          format: email
          x-stoplight:
            id: nmt96os2w7uss
        password_hash:
          type: string
          x-stoplight:
            id: cvqu8wa7bx4ns
        createdAt:
          type: string
          x-stoplight:
            id: 2ukwtpuosgiw2
        updatedAt:
          type: string
          x-stoplight:
            id: mpyezhommga9e
    UserWithoutPassword:
      title: UserWithoutPassword
      x-stoplight:
        id: ei4byjohzee93
      type: object
      required:
        - _id
        - firstName
        - lastName
        - role
        - email
        - active
        - createdAt
        - updatedAt
        - __v
        - phoneNumber
      properties:
        _id:
          type: string
          x-stoplight:
            id: gohzxvaj3vvp8
        firstName:
          type: string
          x-stoplight:
            id: qrmj9880mzzls
        lastName:
          type: string
          x-stoplight:
            id: 1e4lpve2v7yxt
        role:
          type: string
          x-stoplight:
            id: 5uepi7y0dnuw4
        email:
          type: string
          x-stoplight:
            id: ys5dn6hfkwzv5
        active:
          type: boolean
          x-stoplight:
            id: 63k9klrukwmy0
        createdAt:
          type: string
          x-stoplight:
            id: q2a1eoclhqubx
          format: date-time
        updatedAt:
          type: string
          x-stoplight:
            id: uxzsvqnfapod2
          format: date-time
        __v:
          type: integer
          x-stoplight:
            id: 74h3y0npjisdo
        phoneNumber:
          type: string
          x-stoplight:
            id: asmx1af0fxhrn
      description: ""
    Property:
      type: object
      x-examples:
        Example 1:
          _id: 6698ccbc3bfa38a274593d9b
          name: Onelyk Test Property
          email: jainilpatel145@gmail.com
          phoneNumber: "1234567890"
          website: "https://www.onelyk.com"
          about: This is a onelyk test property
          country: United States
          state: New York
          city: New York
          address: 55 Street
          countryCode: "+1"
          active: true
          createdAt: "2024-07-18T08:05:16.703Z"
          updatedAt: "2024-07-18T08:05:16.735Z"
          __v: 0
          coverUrl: "https://onelyk-images-bucket.s3.amazonaws.com/property/6698ccbc3bfa38a274593d9b/cover/cover.jpg"
          logoUrl: "https://onelyk-images-bucket.s3.amazonaws.com/property/6698ccbc3bfa38a274593d9b/logo/logo.jpg"
      properties:
        _id:
          type: string
        name:
          type: string
        email:
          type: string
        phoneNumber:
          type: string
        website:
          type: string
        about:
          type: string
        country:
          type: string
        state:
          type: string
        city:
          type: string
        address:
          type: string
        countryCode:
          type: string
        active:
          type: boolean
        createdAt:
          type: string
        updatedAt:
          type: string
        __v:
          type: integer
        coverUrl:
          type: string
        logoUrl:
          type: string
        zipcode:
          type: string
          x-stoplight:
            id: odk128ck94ppg
    Guest:
      type: object
      x-examples:
        Example 1:
          _id: 669106a217122df7b4875582
          propertyId: 669bb5387629e1fff5cb35a5
          countryCode: "+1"
          phoneNumber: "9191229133"
          source: Source of the guest
          checkIn: "2024-07-23T23:35:00.000Z"
          checkOut: "2024-07-16T23:35:00.000Z"
          confirmationNumber: "9325923593259325"
          roomNumber: C-8
          firstName: Jon
          lastName: Doe
          email: user@gmail.com
          active: true
          createdAt: "2024-07-12T10:34:10.279Z"
          updatedAt: "2024-07-12T10:34:10.279Z"
          __v: 0
      examples:
        - _id: 669106a217122df7b4875582
          propertyId: 669bb5387629e1fff5cb35a5
          countryCode: "+1"
          phoneNumber: "9191229133"
          source: Source of the guest
          checkIn: "2024-07-23T23:35:00.000Z"
          checkOut: "2024-07-16T23:35:00.000Z"
          confirmationNumber: "9325923593259325"
          roomNumber: C-8
          firstName: Jon
          lastName: Doe
          email: user@gmail.com
          active: true
          createdAt: "2024-07-12T10:34:10.279Z"
          updatedAt: "2024-07-12T10:34:10.279Z"
          __v: 0
      required:
        - _id
        - propertyId
        - countryCode
        - phoneNumber
        - source
        - checkIn
        - checkOut
        - confirmationNumber
        - roomNumber
      properties:
        _id:
          type: string
        propertyId:
          type: string
        countryCode:
          type: string
        phoneNumber:
          type: string
        source:
          type: string
        checkIn:
          type: string
        checkOut:
          type: string
        confirmationNumber:
          type: string
        roomNumber:
          type: string
        firstName:
          type: string
        lastName:
          type: string
        email:
          type: string
        active:
          type: boolean
        createdAt:
          type: string
        updatedAt:
          type: string
        __v:
          type: integer
    GuestStatus:
      type: object
      properties:
        _id:
          type: string
        propertyId:
          type: string
        currentStatus:
          type: string
        lateCheckOutStatus:
          type: string
        earlyCheckInStatus:
          type: string
        reservationStatus:
          type: string
        preArrivalStatus:
          type: string
        createdAt:
          type: string
        updatedAt:
          type: string
        __v:
          type: integer
      x-examples:
        Example 1:
          _id: 669e9b4fecb5b6613114ed8e
          propertyId: 669bb5387629e1fff5cb35a5
          currentStatus: Reservation Confirmed
          lateCheckOutStatus: Not Requested
          earlyCheckInStatus: Not Requested
          reservationStatus: Confirmed
          preArrivalStatus: Not Applied
          createdAt: "2024-07-22T17:47:59.118Z"
          updatedAt: "2024-07-22T17:47:59.118Z"
          __v: 0
    ChatList:
      title: ChatList
      x-stoplight:
        id: 67gmi16equeap
      type: object
      properties:
        _id:
          type: string
          x-stoplight:
            id: x9xya3b8aq0po
  securitySchemes:
    Bearer:
      type: http
      scheme: bearer
  requestBodies:
    Register:
      content:
        application/json:
          schema:
            type: object
            required:
              - firstName
              - lastName
              - password
              - email
              - phoneNumber
            properties:
              firstName:
                type: string
                x-stoplight:
                  id: t74ng1fmgfprp
              lastName:
                type: string
                x-stoplight:
                  id: 1ank8gtz32nbd
              password:
                type: string
                x-stoplight:
                  id: lzf7jpfpki1jt
              email:
                type: string
                x-stoplight:
                  id: v26sqcth975yu
              phoneNumber:
                type: string
                x-stoplight:
                  id: cdsekjly8cvk3
      description: Register Request
    Login:
      content:
        application/json:
          schema:
            type: object
            required:
              - email
              - password
            properties:
              email:
                type: string
                x-stoplight:
                  id: xc87f810xeu91
              password:
                type: string
                x-stoplight:
                  id: bj7vqbzwu059u
          examples:
            Example 1:
              value:
                email: jainil.patel@onelyk.com
                password: "123456"
      description: User Login request
    User:
      content:
        application/json:
          schema:
            type: object
            required:
              - firstName
              - lastName
              - password
              - role
              - email
              - phoneNumber
            properties:
              firstName:
                type: string
                x-stoplight:
                  id: u7qqzz39473az
              lastName:
                type: string
                x-stoplight:
                  id: 0c5qz3apuyb88
              password:
                type: string
                x-stoplight:
                  id: incwcqb35ezq0
              role:
                type: string
                x-stoplight:
                  id: wisv3cyjuhom1
              active:
                type: string
                x-stoplight:
                  id: 2vehxlnkx5vc8
              email:
                type: string
                x-stoplight:
                  id: 9igrtk1vlb2fo
              phoneNumber:
                type: string
                x-stoplight:
                  id: vt2grtcr0louo
      description: User create
    CreateProperty:
      content:
        multipart/form-data:
          schema:
            type: object
            x-examples:
              Example 1:
                _id: String
                name: String
                email: String
                phoneNumber: String
                website: String
                about: String
                logoUrl: String
                coverUrl: String
                country: String
                state: String
                city: String
                address: String
                countryCode: String
                active: Boolean
                __v: Number
                createdAt: Date
                updatedAt: Date
            required:
              - name
              - email
              - phoneNumber
              - website
              - about
              - logo
              - cover
              - country
              - state
              - city
              - address
              - countryCode
              - standardCheckinTime
              - standardCheckoutTime
              - timezone
              - defaultNewDayTime
              - zipcode
            properties:
              name:
                type: string
              email:
                type: string
              phoneNumber:
                type: string
              website:
                type: string
              about:
                type: string
              logo:
                type: string
                x-stoplight:
                  id: asfs1cpbkf7v4
                format: binary
              cover:
                type: string
                x-stoplight:
                  id: 44drsy80ont2v
                format: binary
              country:
                type: string
              state:
                type: string
              city:
                type: string
              address:
                type: string
              countryCode:
                type: string
              standardCheckinTime:
                type: string
                x-stoplight:
                  id: mwfb9m023itk0
              standardCheckoutTime:
                type: string
                x-stoplight:
                  id: 1t24qd9okarw1
              timezone:
                type: string
                x-stoplight:
                  id: h0nl4ei7d0q1o
              defaultNewDayTime:
                type: string
                x-stoplight:
                  id: 3nmhpf9z8g4q7
              zipcode:
                type: string
                x-stoplight:
                  id: w9poyxlogsn0q
      description: Create property Request
    PhoneNumber:
      content:
        application/json:
          schema:
            type: object
      description: ""
    CreateGuest:
      content:
        application/json:
          schema:
            type: object
            x-examples:
              Example 1:
                _id: 669106a217122df7b4875582
                propertyId: 669bb5387629e1fff5cb35a5
                countryCode: "+1"
                phoneNumber: "9191229133"
                source: Source of the guest
                checkIn: "2024-07-23T23:35:00.000Z"
                checkOut: "2024-07-16T23:35:00.000Z"
                confirmationNumber: "9325923593259325"
                roomNumber: C-8
                firstName: Jon
                lastName: Doe
                email: user@gmail.com
                active: true
                createdAt: "2024-07-12T10:34:10.279Z"
                updatedAt: "2024-07-12T10:34:10.279Z"
                __v: 0
            properties:
              countryCode:
                type: string
              phoneNumber:
                type: string
              source:
                type: string
              checkIn:
                type: string
                format: date-time
              checkOut:
                type: string
                format: date-time
              confirmationNumber:
                type: string
              roomNumber:
                type: string
              firstName:
                type: string
              lastName:
                type: string
              email:
                type: string
                format: email
              status:
                type: object
                x-stoplight:
                  id: f8c50pfro8kaj
                properties:
                  currentStatus:
                    x-stoplight:
                      id: j46el0lr9itcw
                    enum:
                      - Reservation Confirmed
                      - In House
                      - Checked Out
                  lateCheckOutStatus:
                    x-stoplight:
                      id: 7r77vexwajsud
                    default: Not Requested
                    enum:
                      - Not Requested
                      - Requested
                      - Declined
                      - Accepted
                  earlyCheckInStatus:
                    x-stoplight:
                      id: tbw6mv80utbor
                    enum:
                      - Not Requested
                      - Requested
                      - Declined
                      - Accepted
                  reservationStatus:
                    x-stoplight:
                      id: ndo6278totp94
                    default: Confirmed
                    enum:
                      - Confirmed
                      - Cancelled
                  preArrivalStatus:
                    x-stoplight:
                      id: dmmwkvav7cvxm
                    default: Not Applied
                    enum:
                      - Not Applied
                      - Applied
          examples:
            Example 1:
              value:
                countryCode: "+1"
                phoneNumber: "1234567890"
                source: Booking.com
                checkIn: "2019-08-24T14:15:22Z"
                checkOut: "2019-08-25T14:15:22Z"
                confirmationNumber: "123456789012"
                roomNumber: C-102
                firstName: First
                lastName: Last
                email: firstlast123@guest.com
                status:
                  currentStatus: Reservation Confirmed
    CreateMessageTemplate:
      content:
        application/json:
          schema:
            type: object
            x-examples:
              Example 1:
                _id:
                  $oid: 66a4c9bb46f08b7942f00591
                propertyId:
                  $oid: 66a4c9b946f08b7942f0057c
                status: currentStatus
                statusValue: Checked Out
                name: Checked Out
                message: You are checked out
                active: true
                createdAt:
                  $date: "2024-07-27T10:19:39.608Z"
                updatedAt:
                  $date: "2024-07-27T10:19:39.608Z"
                __v: 0
            required:
              - name
              - message
            properties:
              name:
                type: string
              message:
                type: string
              type:
                type: string
                x-stoplight:
                  id: ok5koa354xwzw
    UpdateGuestStatus:
      content:
        application/json:
          schema:
            type: object
            x-stoplight:
              id: mcfbml84daq1a
            properties:
              currentStatus:
                x-stoplight:
                  id: jt2v990rm57vz
                enum:
                  - Reservation
                  - In House
                  - Checked Out
              lateCheckOutStatus:
                x-stoplight:
                  id: 9y5i2ve4elinr
                default: Not Requested
                enum:
                  - Not Requested
                  - Requested
                  - Declined
                  - Accepted
              earlyCheckInStatus:
                x-stoplight:
                  id: 4muaziex84kl5
                enum:
                  - Not Requested
                  - Requested
                  - Declined
                  - Accepted
              reservationStatus:
                x-stoplight:
                  id: 20r1aawlva13w
                default: Confirmed
                enum:
                  - Confirmed
                  - Cancelled
              preArrivalStatus:
                x-stoplight:
                  id: 5g3pr6xnbq3sg
                default: Not Applied
                enum:
                  - Not Applied
                  - Applied
    UpdateMessageTemplate:
      content:
        application/json:
          schema:
            type: object
            required:
              - type
              - message
              - name
            properties:
              type:
                type: string
                x-stoplight:
                  id: 97qqkeec04yen
              message:
                type: string
                x-stoplight:
                  id: ie8zrbhz1cqsu
              name:
                type: string
                x-stoplight:
                  id: oux0hu0rrzx3a
              _id:
                type: string
                x-stoplight:
                  id: 05ue8itc1jd1a
    SendSMS:
      content:
        application/json:
          schema:
            type: object
            properties:
              body:
                type: string
                x-stoplight:
                  id: ll83edx2qxdwc
    CreateBroadcast:
      content:
        application/json:
          schema:
            type: object
            properties:
              body:
                type: string
                x-stoplight:
                  id: cuely00u0akq3
              guestIds:
                type: array
                x-stoplight:
                  id: i2cquuqsg4gnk
                items:
                  x-stoplight:
                    id: q0ucvttje6iu6
                  type: string
    SendMessageBroadcast:
      content:
        application/json:
          schema:
            type: object
            properties:
              body:
                type: string
                x-stoplight:
                  id: 1sy8am5kslfko
    CreatePreArrival:
      content:
        application/json:
          schema:
            type: object
            x-examples:
              Example 1:
                phoneNumber: string
                emailAddress: string
                arrivalTime: date
                vehicleMakeModelColor: Honda Elevate EV
                licensePlateNo: BC18351
                specialRequests: My special request
                policyAccepted: true
                signatureImgUrl: "https://imageurl"
                consentToText: true
            properties:
              phoneNumber:
                type: string
              emailAddress:
                type: string
                format: email
              arrivalTime:
                type: string
                format: date-time
              vehicleMakeModelColor:
                type: string
              licensePlateNo:
                type: string
              specialRequests:
                type: string
              policyAccepted:
                type: boolean
              consentToText:
                type: boolean
              signatureImgUrl:
                type: string
  responses:
    Login:
      description: Login response
      content:
        application/json:
          schema:
            type: object
            properties:
              result:
                x-stoplight:
                  id: cn6arwxgkipsq
                type: object
                properties:
                  user:
                    $ref: "#/components/schemas/UserWithoutPassword"
                    x-stoplight:
                      id: tx2oe7mwhw59e
                  accessToken:
                    type: string
                    x-stoplight:
                      id: kn1w394ufgv0s
      headers: {}
    Register:
      description: Register response
      content:
        application/json:
          schema:
            type: object
            properties:
              result:
                type: object
                x-stoplight:
                  id: cvu5fj231nefn
                properties:
                  message:
                    type: string
                    x-stoplight:
                      id: 24dudrs50p4gu
    Error:
      description: Standard error response
      content:
        application/json:
          schema:
            type: object
            x-examples:
              Example 1:
                status: error
                statusCode: 400
                error:
                  zipcode:
                    - Zipcode not found
                type: BAD_REQUEST
                message: Invalid zip code
                stack: ""
            required:
              - status
              - statusCode
              - error
              - type
              - message
              - stack
            properties:
              status:
                type: string
              statusCode:
                type: integer
              error:
                type: object
              type:
                type: string
              message:
                type: string
              stack:
                type: string
    User:
      description: User response
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UserWithoutPassword"
    PropertyResponse:
      description: Property Response
      content:
        application/json:
          schema:
            type: object
            properties:
              result:
                type: object
                properties:
                  property:
                    type: object
                    properties:
                      _id:
                        type: string
                      name:
                        type: string
                      email:
                        type: string
                      phoneNumber:
                        type: string
                      website:
                        type: string
                      about:
                        type: string
                      country:
                        type: string
                      state:
                        type: string
                      city:
                        type: string
                      address:
                        type: string
                      countryCode:
                        type: string
                      active:
                        type: boolean
                      createdAt:
                        type: string
                      updatedAt:
                        type: string
                      __v:
                        type: integer
                      coverUrl:
                        type: string
                      logoUrl:
                        type: string
    GetAllPropertyResponse:
      description: All property response
      content:
        application/json:
          schema:
            type: object
            properties:
              "":
                type: string
                x-stoplight:
                  id: l1ju0k5o5khvd
    CreateGuest:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              result:
                type: object
                properties:
                  guest:
                    type: object
                    properties:
                      _id:
                        type: string
                      propertyId:
                        type: string
                      countryCode:
                        type: string
                      phoneNumber:
                        type: string
                      source:
                        type: string
                      checkIn:
                        type: string
                      checkOut:
                        type: string
                      confirmationNumber:
                        type: string
                      roomNumber:
                        type: string
                      firstName:
                        type: string
                      lastName:
                        type: string
                      email:
                        type: string
                      active:
                        type: boolean
                      createdAt:
                        type: string
                      updatedAt:
                        type: string
                      __v:
                        type: integer
                      status:
                        type: object
                        properties:
                          _id:
                            type: string
                          propertyId:
                            type: string
                          currentStatus:
                            type: string
                          lateCheckOutStatus:
                            type: string
                          earlyCheckInStatus:
                            type: string
                          reservationStatus:
                            type: string
                          preArrivalStatus:
                            type: string
                          createdAt:
                            type: string
                          updatedAt:
                            type: string
                          __v:
                            type: integer
            x-examples:
              Example 1:
                result:
                  guest:
                    _id: 669106a217122df7b4875582
                    propertyId: 669bb5387629e1fff5cb35a5
                    countryCode: "+1"
                    phoneNumber: "9191229133"
                    source: Source of the guest
                    checkIn: "2024-07-23T23:35:00.000Z"
                    checkOut: "2024-07-16T23:35:00.000Z"
                    confirmationNumber: "9325923593259325"
                    roomNumber: C-8
                    firstName: Jon
                    lastName: Doe
                    email: user@gmail.com
                    active: true
                    createdAt: "2024-07-12T10:34:10.279Z"
                    updatedAt: "2024-07-12T10:34:10.279Z"
                    __v: 0
                    status:
                      _id: 669e9b4fecb5b6613114ed8e
                      propertyId: 669bb5387629e1fff5cb35a5
                      currentStatus: Reservation Confirmed
                      lateCheckOutStatus: Not Requested
                      earlyCheckInStatus: Not Requested
                      reservationStatus: Confirmed
                      preArrivalStatus: Not Applied
                      createdAt: "2024-07-22T17:47:59.118Z"
                      updatedAt: "2024-07-22T17:47:59.118Z"
                      __v: 0
    CreateMessageTemplate:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            x-examples:
              Example 1:
                _id:
                  $oid: 66a4c9bb46f08b7942f00591
                propertyId:
                  $oid: 66a4c9b946f08b7942f0057c
                status: currentStatus
                statusValue: Checked Out
                name: Checked Out
                message: You are checked out
                active: true
                createdAt:
                  $date: "2024-07-27T10:19:39.608Z"
                updatedAt:
                  $date: "2024-07-27T10:19:39.608Z"
                __v: 0
            properties:
              _id:
                type: string
              propertyId:
                type: string
              name:
                type: string
              message:
                type: string
              active:
                type: boolean
              createdAt:
                type: string
              updatedAt:
                type: string
              __v:
                type: integer
              type:
                type: string
                x-stoplight:
                  id: j2i9vm994dfbv
    GuestStatus:
      description: Example response
      content:
        application/json:
          schema:
            properties:
              id:
                type: string
        text/html:
          schema:
            type: object
            properties:
              result:
                $ref: "#/components/schemas/GuestStatus"
                x-stoplight:
                  id: 4ow7yqky33eyp
              message:
                type: string
                x-stoplight:
                  id: cepwgsmm864p1
    ChatLists:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              statusCode:
                type: integer
              result:
                type: array
                items:
                  type: object
                  properties:
                    totalUnreadMessages:
                      type: integer
                    propertyId:
                      type: string
                    chatLists:
                      type: array
                      items:
                        type: object
                        properties:
                          _id:
                            type: string
                          propertyId:
                            type: string
                          guestId:
                            type: string
                          unreadMessages:
                            type: integer
                          latestMessage:
                            type: array
                            items:
                              type: object
                              properties: {}
                          createdAt:
                            type: string
                          updatedAt:
                            type: string
                          guest:
                            type: object
                            properties:
                              _id:
                                type: string
                              countryCode:
                                type: string
                              phoneNumber:
                                type: string
                              source:
                                type: string
                              checkIn:
                                type: string
                              checkOut:
                                type: string
                              confirmationNumber:
                                type: string
                              roomNumber:
                                type: string
                              firstName:
                                type: string
                              lastName:
                                type: string
                              email:
                                type: string
                              active:
                                type: boolean
                              status:
                                type: object
                                properties:
                                  currentStatus:
                                    type: string
                                  lateCheckOutStatus:
                                    type: string
                                  earlyCheckInStatus:
                                    type: string
                                  reservationStatus:
                                    type: string
                                  preArrivalStatus:
                                    type: string
              status:
                type: string
              type:
                type: string
              message:
                type: string
            x-examples:
              Example 1:
                statusCode: 200
                result:
                  - totalUnreadMessages: 0
                    propertyId: 66a2174cf74f8664b0bb207d
                    chatLists:
                      - _id: 66af2e74ac369df58299b341
                        propertyId: 66a2174cf74f8664b0bb207d
                        guestId: 66a3a20a9f0302c6f2612861
                        unreadMessages: 0
                        latestMessage: []
                        createdAt: "2024-08-04T07:32:04.990Z"
                        updatedAt: "2024-08-04T07:32:04.990Z"
                        guest:
                          _id: 66a3a20a9f0302c6f2612861
                          countryCode: "+1"
                          phoneNumber: "1234567890"
                          source: Booking.com
                          checkIn: "2024-07-29T08:45:00.000Z"
                          checkOut: "2024-08-09T08:45:00.000Z"
                          confirmationNumber: "123456789012"
                          roomNumber: C-102
                          firstName: First
                          lastName: Last
                          email: firstlast123@guest.com
                          active: true
                          status:
                            currentStatus: Reservation
                            lateCheckOutStatus: Not Requested
                            earlyCheckInStatus: Not Requested
                            reservationStatus: Confirmed
                            preArrivalStatus: Not Applied
                status: success
                type: SUCCESS
                message: Success
x-request-id: null
tags:
  - name: Auth
  - name: Chat List
  - name: Country
  - name: Guest
  - name: Guest Status
  - name: Message
  - name: Message Template
  - name: Property
  - name: Twilio
  - name: User
